<VirtualHost *:80>
    ServerName api.local
    DocumentRoot "/var/www/html/api"

    RewriteEngine On
    RewriteCond %{HTTPS} !=on
    RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R=301,L]


    <Directory "/var/www/html/api">
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>


<VirtualHost *:443>
    ServerName api.local
    DocumentRoot "/var/www/html/api"


    SSLEngine on
    SSLCertificateFile "/usr/local/apache2/certs/server.crt"
    SSLCertificateKeyFile "/usr/local/apache2/certs/server.key"


    <Directory "/var/www/html/api">
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>
